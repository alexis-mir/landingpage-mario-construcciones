---
// Componente Carousel para la sección Hero
import ampliacionImg from '../assets/ampliaciones.webp';
import construccionImg from '../assets/construccion.webp';
import reformaImg from '../assets/reforma.webp';
---

<div class="carousel-container sr">
  <div class="swiper hero-swiper">
    <div class="swiper-wrapper">      <!-- Slide 1 -->
      <div class="swiper-slide">
        <div class="relative h-screen">
          <!-- Imagen de fondo -->
          <img 
            src={construccionImg.src} 
            alt="Construcción de vivienda" 
            class="absolute inset-0 w-full h-full object-cover"
          />
          <!-- Overlay con gradiente -->
          <div class="absolute inset-0 bg-gradient-to-br from-tierra/70 via-construccion/60 to-black/70"></div>
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center text-white px-4 max-w-4xl">
              <h2 class="text-3xl md:text-5xl lg:text-6xl font-bold mb-6 drop-shadow-lg">Construcción de Calidad</h2>
              <p class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90 drop-shadow-md">Expertos en construcción de viviendas desde cero con los mejores materiales</p>
            </div>
          </div>
        </div>
      </div>
        <!-- Slide 2 -->
      <div class="swiper-slide">
        <div class="relative h-screen">
          <!-- Imagen de fondo -->
          <img 
            src={reformaImg.src} 
            alt="Reforma integral" 
            class="absolute inset-0 w-full h-full object-cover"
          />
          <!-- Overlay con gradiente -->
          <div class="absolute inset-0 bg-gradient-to-br from-cemento/70 via-gray-600/60 to-black/70"></div>
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center text-white px-4 max-w-4xl">
              <h2 class="text-3xl md:text-5xl lg:text-6xl font-bold mb-6 drop-shadow-lg">Reformas Integrales</h2>
              <p class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90 drop-shadow-md">Transformamos tu hogar con acabados profesionales y diseños modernos</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Slide 3 -->
      <div class="swiper-slide">
        <div class="relative h-screen">
          <!-- Imagen de fondo -->
          <img 
            src={ampliacionImg.src} 
            alt="Ampliación de vivienda" 
            class="absolute inset-0 w-full h-full object-cover"
          />
          <!-- Overlay con gradiente -->
          <div class="absolute inset-0 bg-gradient-to-br from-seguridad/70 via-black/50 to-black/70"></div>
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center text-white px-4 max-w-4xl">
              <h2 class="text-3xl md:text-5xl lg:text-6xl font-bold mb-6 drop-shadow-lg">Ampliaciones</h2>
              <p class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90 drop-shadow-md">Expandimos tu espacio con diseños funcionales y optimizados</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Navegación -->
    <div class="swiper-button-next text-white"></div>
    <div class="swiper-button-prev text-white"></div>
    
    <!-- Paginación -->
    <div class="swiper-pagination"></div>
  </div>
</div>

<script>
  // Inicializar Swiper cuando el DOM esté listo
  document.addEventListener('DOMContentLoaded', function() {
    // Importación dinámica para evitar problemas en el build
    Promise.all([
      import('swiper'),
      import('swiper/modules')
    ]).then(([{ Swiper }, { Navigation, Pagination, Autoplay }]) => {
      const swiper = new Swiper('.hero-swiper', {
        modules: [Navigation, Pagination, Autoplay],
        loop: true,
        autoplay: {
          delay: 6000,
          disableOnInteraction: false,
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
          dynamicBullets: true,
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        effect: 'slide',
        speed: 1000,
        grabCursor: true,
        touchRatio: 1,
        touchAngle: 45,
      });
    }).catch((error) => {
      console.error('Error loading Swiper:', error);
    });
  });
</script>

<style>
  /* Importar estilos de Swiper */
  @import 'swiper/css';
  @import 'swiper/css/navigation';
  @import 'swiper/css/pagination';
  
  .carousel-container {
    width: 100%;
    height: 100vh;
  }
    .hero-swiper {
    width: 100%;
    height: 100%;
  }
  
  /* Optimización de imágenes en slides */
  .swiper-slide img {
    transition: transform 8s ease-out;
  }
  
  .swiper-slide-active img {
    transform: scale(1.05);
  }
  
  /* Mejores sombras de texto */
  .drop-shadow-lg {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  }
  
  .drop-shadow-md {
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
  }
  
  /* Botones de navegación mejorados */
  .swiper-button-next,
  .swiper-button-prev {
    color: white !important;
    background: rgba(0, 0, 0, 0.3) !important;
    border-radius: 50% !important;
    width: 50px !important;
    height: 50px !important;
    margin-top: -25px !important;
    transition: all 0.3s ease !important;
  }
  
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    background: rgba(0, 0, 0, 0.6) !important;
    transform: scale(1.1) !important;
  }
  
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 18px !important;
    font-weight: bold !important;
  }
  
  /* Paginación mejorada */
  .swiper-pagination {
    bottom: 30px !important;
  }
  
  .swiper-pagination-bullet {
    background: white !important;
    opacity: 0.6 !important;
    width: 12px !important;
    height: 12px !important;
    margin: 0 6px !important;
    transition: all 0.3s ease !important;
  }
  
  .swiper-pagination-bullet-active {
    opacity: 1 !important;
    transform: scale(1.2) !important;
    background: #f59e0b !important;
  }
  
  /* Responsivo para dispositivos móviles */
  @media (max-width: 768px) {
    .swiper-button-next,
    .swiper-button-prev {
      width: 40px !important;
      height: 40px !important;
      margin-top: -20px !important;
    }
    
    .swiper-button-next::after,
    .swiper-button-prev::after {
      font-size: 14px !important;
    }
    
    .swiper-pagination {
      bottom: 20px !important;
    }
  }
</style>
